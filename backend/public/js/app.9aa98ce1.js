(function(){"use strict";var e={4026:function(e,t,s){var n=s(5130),r=s(6768);function o(e,t,s,n,o,a){const i=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(i)}var a={name:"App"},i=s(1241);const l=(0,i.A)(a,[["render",o]]);var c=l,u=s(973);const d={class:"feed"},p={class:"status-bar"},g={class:"feed-container"},h={class:"tab-bar"};function f(e,t,s,n,o,a){const i=(0,r.g2)("font-awesome-icon"),l=(0,r.g2)("Post"),c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",d,[(0,r.Lk)("div",p,[(0,r.Lk)("span",null,[(0,r.bF)(i,{icon:["fa","paper-plane"]})])]),(0,r.Lk)("div",g,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.postdata,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t},[(0,r.bF)(l,{post:e},null,8,["post"])])))),128))]),(0,r.Lk)("div",h,[(0,r.Lk)("span",null,[(0,r.bF)(i,{icon:["fa","home"]})]),(0,r.Lk)("span",null,[(0,r.bF)(i,{icon:["fa","search"]})]),(0,r.bF)(c,{to:"/write"},{default:(0,r.k6)((()=>[(0,r.Lk)("span",null,[(0,r.bF)(i,{icon:["fa","plus-square"]})])])),_:1}),(0,r.Lk)("span",null,[(0,r.bF)(i,{icon:["fa","heart"]})]),(0,r.Lk)("span",null,[(0,r.bF)(i,{icon:["fa","user-circle"]})])])])}var m=s(8355),v=s(4232);const k={class:"post-container"},b={class:"post-head"},w=["src"],L={class:"post-body"},y=["src"];function P(e,t,s,n,o,a){return(0,r.uX)(),(0,r.CE)("div",k,[(0,r.Lk)("div",b,[(0,r.Lk)("img",{src:s.post.profileImage,alt:""},null,8,w),(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,v.v_)(s.post.username),1)])]),(0,r.Lk)("div",L,[(0,r.Lk)("img",{src:s.post.image,alt:""},null,8,y),(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,v.v_)(s.post.likes)+" Likes",1),(0,r.eW)(" "+(0,v.v_)(s.post.contents),1)]),(0,r.Lk)("p",null,(0,v.v_)(s.post.datetime),1)])])}var C={name:"Post",props:{post:Object}};const U=(0,i.A)(C,[["render",P]]);var F=U,O=s(292),j={name:"Feed",created(){m.A.get("/feed").then((e=>{console.log(e.data),this.postdata=e.data}))},data(){return{postdata:[]}},components:{Post:F,FontAwesomeIcon:O.gc},props:{}};const _=(0,i.A)(j,[["render",f]]);var A=_;const E=e=>((0,r.Qi)("data-v-3ecb8019"),e=e(),(0,r.jt)(),e),V={class:"login-page"},I=E((()=>(0,r.Lk)("div",{class:"app-name"},[(0,r.Lk)("h1",null,"STADIUM"),(0,r.Lk)("h3",null,"Login")],-1))),S={class:"login-form"},T={class:"create-account"};function X(e,t,s,o,a,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",V,[I,(0,r.Lk)("div",S,[(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e)},null,512),[[n.Jo,a.username]]),(0,r.bo)((0,r.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e)},null,512),[[n.Jo,a.password]]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.login&&i.login(...e)),class:"contrast"},"Login")]),(0,r.Lk)("div",T,[(0,r.bF)(l,{to:"/register"},{default:(0,r.k6)((()=>[(0,r.eW)(" or create account ")])),_:1})])])}s(4114);var q={name:"Login",data(){return{username:"",password:""}},methods:{login(){m.A.post("/login",{username:this.username,password:this.password}).then((e=>{e.data?(console.log("logged in"),this.$router.push("/")):this.$router.go(-1)}))}}};const x=(0,i.A)(q,[["render",X],["__scopeId","data-v-3ecb8019"]]);var J=x;const $=e=>((0,r.Qi)("data-v-7d0f55ae"),e=e(),(0,r.jt)(),e),R={class:"register-page"},M=$((()=>(0,r.Lk)("div",{class:"register-head"},[(0,r.Lk)("h1",null,"Register")],-1))),Q={class:"register-input"},D={class:"register-input"},W={class:"register-password"},N={key:0},K=["disabled"];function Y(e,t,s,o,a,i){return(0,r.uX)(),(0,r.CE)("div",R,[M,(0,r.Lk)("div",{class:(0,v.C4)(["register-body",{unique:a.isUsernameUnique}])},[(0,r.Lk)("div",Q,[(0,r.bo)((0,r.Lk)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=e=>a.registerUsername=e),placeholder:"ID",required:""},null,512),[[n.Jo,a.registerUsername]]),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.checkUsername&&i.checkUsername(...e)),class:"contrast"},"c")]),(0,r.Lk)("div",D,[(0,r.Lk)("div",W,[(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>a.registerPassword=e),placeholder:"Password",required:""},null,512),[[n.Jo,a.registerPassword]]),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>a.registerPasswordConfirm=e),placeholder:"Confirm Password",required:""},null,512),[[n.Jo,a.registerPasswordConfirm]]),i.isPasswordConfirmed?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("span",N,"Input Valid Password"))]),(0,r.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>i.register&&i.register(...e)),class:"contrast",disabled:!i.isValidRegister},"r",8,K)])],2)])}var z={name:"Register",data(){return{registerUsername:"",registerPassword:"",registerPasswordConfirm:"",isUsernameUnique:!1,isPasswordVisible:!1}},computed:{isPasswordConfirmed(){return this.registerPassword==this.registerPasswordConfirm},isValidRegister(){return this.isUsernameUnique&&this.registerPassword===this.registerPasswordConfirm&&""!==this.registerUsername&&""!==this.registerPassword}},methods:{async checkUsername(){try{const e=await fetch("/checkUsername",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.registerUsername})}),t=await e.json();t.exists?alert("이미 사용 중인 사용자 이름입니다."):(alert("사용 가능한 사용자 이름입니다."),this.isUsernameUnique=!0,this.isPasswordVisible=!0)}catch(e){console.error(e),alert("사용자 이름을 확인하는 중 오류가 발생했습니다.")}},async register(){console.log("registerbuttonclicked");try{const e=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.registerUsername,password:this.registerPassword})}),t=await e.json();1==t.success?this.$router.push("/login"):this.$router.go(-1),console.log("Register.vue, line:99",t.message),alert(t.success)}catch(e){console.error(e),alert("회원 가입 중 오류가 발생했습니다.")}}}};const B=(0,i.A)(z,[["render",Y],["__scopeId","data-v-7d0f55ae"]]);var G=B;const H=e=>((0,r.Qi)("data-v-49af6145"),e=e(),(0,r.jt)(),e),Z={class:"post-publish"},ee=H((()=>(0,r.Lk)("h1",null,"Publish Post",-1))),te=["disabled"];function se(e,t,s,o,a,i){return(0,r.uX)(),(0,r.CE)("div",Z,[ee,(0,r.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>i.handleFileChange&&i.handleFileChange(...e))},null,32),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.contents=e),placeholder:"contents"},null,512),[[n.Jo,a.contents]]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.publishPost&&i.publishPost(...e)),disabled:!a.image},"Publish",8,te)])}var ne={data(){return{image:null,contents:""}},methods:{handleFileChange(e){this.image=e.target.files[0],console.log(this.image)},async publishPost(){try{let e=new FormData;e.append("image",this.image),e.append("contents",this.contents),console.log(e);const t=await m.A.post("/write",e,{headers:{"Content-Type":"multipart/form-data"}});t.data.success?(console.log("Uploaded post"),this.$router.push("/")):(console.error("Failed to upload post"),this.$router.go(-1))}catch(e){console.error("Error publishing post:",e)}}}};const re=(0,i.A)(ne,[["render",se],["__scopeId","data-v-49af6145"]]);var oe=re;const ae=[{path:"/",component:A,props:!0},{path:"/login",component:J},{path:"/register",component:G},{path:"/write",component:oe}],ie=(0,u.aE)({history:(0,u.LA)(),routes:ae});var le=ie,ce=s(8950),ue=s(2353);ce.Yv.add(ue.X7I);const de=(0,n.Ef)(c).use(le).mount("#app");de.component("font-awesome-icon",O.gc)}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,n,r,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],o=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(i=!1,o<a&&(a=o));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,a=n[0],i=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(l)var u=l(s)}for(t&&t(n);c<a.length;c++)o=a[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[504],(function(){return s(4026)}));n=s.O(n)})();
//# sourceMappingURL=app.9aa98ce1.js.map