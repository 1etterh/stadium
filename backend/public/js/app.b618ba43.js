(function(){"use strict";var e={701:function(e,t,s){var r=s(5130),n=s(6768);function o(e,t,s,r,o,a){const i=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(i)}var a={name:"App"},i=s(1241);const l=(0,i.A)(a,[["render",o]]);var u=l,c=s(973);const d={class:"feed"},p={class:"status-bar"},g=(0,n.Lk)("p",null,"Home",-1),h=(0,n.Lk)("p",null,"Message",-1),f={class:"feed-container"},m={class:"tab-bar"},v=(0,n.Lk)("span",null,"Feed",-1),k=(0,n.Lk)("span",null,"Search",-1),b=(0,n.Lk)("span",null,"MyPage",-1);function w(e,t,s,r,o,a){const i=(0,n.g2)("router-link"),l=(0,n.g2)("Post");return(0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("div",p,[g,h,(0,n.bF)(i,{to:"/login"},{default:(0,n.k6)((()=>[(0,n.eW)("Login")])),_:1})]),(0,n.Lk)("div",f,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.postdata,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},[(0,n.bF)(l,{post:e},null,8,["post"])])))),128))]),(0,n.Lk)("div",m,[v,k,(0,n.bF)(i,{to:"/write"},{default:(0,n.k6)((()=>[(0,n.eW)("Write")])),_:1}),b])])}var L=s(8355),y=s(4232);const P={class:"post-container"},C={class:"post-head"},U=["src"],O={class:"post-body"},_=["src"];function j(e,t,s,r,o,a){return(0,n.uX)(),(0,n.CE)("div",P,[(0,n.Lk)("div",C,[(0,n.Lk)("img",{src:s.post.profileImage,alt:""},null,8,U),(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,(0,y.v_)(s.post.username),1)])]),(0,n.Lk)("div",O,[(0,n.Lk)("img",{src:s.post.image,alt:""},null,8,_),(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,(0,y.v_)(s.post.likes)+" Likes",1),(0,n.eW)(" "+(0,y.v_)(s.post.contents),1)]),(0,n.Lk)("p",null,(0,y.v_)(s.post.datetime),1)])])}var F={name:"Post",props:{post:Object}};const A=(0,i.A)(F,[["render",j]]);var E=A,S={name:"Feed",created(){L.A.get("/feed").then((e=>{console.log(e.data),this.postdata=e.data}))},data(){return{postdata:[]}},components:{Post:E},props:{}};const V=(0,i.A)(S,[["render",w]]);var T=V;const x=e=>((0,n.Qi)("data-v-3ecb8019"),e=e(),(0,n.jt)(),e),X={class:"login-page"},q=x((()=>(0,n.Lk)("div",{class:"app-name"},[(0,n.Lk)("h1",null,"STADIUM"),(0,n.Lk)("h3",null,"Login")],-1))),I={class:"login-form"},J={class:"create-account"};function M(e,t,s,o,a,i){const l=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",X,[q,(0,n.Lk)("div",I,[(0,n.bo)((0,n.Lk)("input",{type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e)},null,512),[[r.Jo,a.username]]),(0,n.bo)((0,n.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e)},null,512),[[r.Jo,a.password]]),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.login&&i.login(...e)),class:"contrast"},"Login")]),(0,n.Lk)("div",J,[(0,n.bF)(l,{to:"/register"},{default:(0,n.k6)((()=>[(0,n.eW)(" or create account ")])),_:1})])])}s(4114);var W={name:"Login",data(){return{username:"",password:""}},methods:{login(){L.A.post("/login",{username:this.username,password:this.password}).then((e=>{e.data?(console.log("logged in"),this.$router.push("/")):this.$router.go(-1)}))}}};const $=(0,i.A)(W,[["render",M],["__scopeId","data-v-3ecb8019"]]);var R=$;const Q=e=>((0,n.Qi)("data-v-7d0f55ae"),e=e(),(0,n.jt)(),e),D={class:"register-page"},N=Q((()=>(0,n.Lk)("div",{class:"register-head"},[(0,n.Lk)("h1",null,"Register")],-1))),H={class:"register-input"},K={class:"register-input"},z={class:"register-password"},B={key:0},G=["disabled"];function Y(e,t,s,o,a,i){return(0,n.uX)(),(0,n.CE)("div",D,[N,(0,n.Lk)("div",{class:(0,y.C4)(["register-body",{unique:a.isUsernameUnique}])},[(0,n.Lk)("div",H,[(0,n.bo)((0,n.Lk)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=e=>a.registerUsername=e),placeholder:"ID",required:""},null,512),[[r.Jo,a.registerUsername]]),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.checkUsername&&i.checkUsername(...e)),class:"contrast"},"c")]),(0,n.Lk)("div",K,[(0,n.Lk)("div",z,[(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>a.registerPassword=e),placeholder:"Password",required:""},null,512),[[r.Jo,a.registerPassword]]),(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>a.registerPasswordConfirm=e),placeholder:"Confirm Password",required:""},null,512),[[r.Jo,a.registerPasswordConfirm]]),i.isPasswordConfirmed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",B,"Input Valid Password"))]),(0,n.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>i.register&&i.register(...e)),class:"contrast",disabled:!i.isValidRegister},"r",8,G)])],2)])}var Z={name:"Register",data(){return{registerUsername:"",registerPassword:"",registerPasswordConfirm:"",isUsernameUnique:!1,isPasswordVisible:!1}},computed:{isPasswordConfirmed(){return this.registerPassword==this.registerPasswordConfirm},isValidRegister(){return this.isUsernameUnique&&this.registerPassword===this.registerPasswordConfirm&&""!==this.registerUsername&&""!==this.registerPassword}},methods:{async checkUsername(){try{const e=await fetch("/checkUsername",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.registerUsername})}),t=await e.json();t.exists?alert("이미 사용 중인 사용자 이름입니다."):(alert("사용 가능한 사용자 이름입니다."),this.isUsernameUnique=!0,this.isPasswordVisible=!0)}catch(e){console.error(e),alert("사용자 이름을 확인하는 중 오류가 발생했습니다.")}},async register(){console.log("registerbuttonclicked");try{const e=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.registerUsername,password:this.registerPassword})}),t=await e.json();1==t.success?this.$router.push("/login"):this.$router.go(-1),console.log("Register.vue, line:99",t.message),alert(t.success)}catch(e){console.error(e),alert("회원 가입 중 오류가 발생했습니다.")}}}};const ee=(0,i.A)(Z,[["render",Y],["__scopeId","data-v-7d0f55ae"]]);var te=ee;const se=e=>((0,n.Qi)("data-v-49af6145"),e=e(),(0,n.jt)(),e),re={class:"post-publish"},ne=se((()=>(0,n.Lk)("h1",null,"Publish Post",-1))),oe=["disabled"];function ae(e,t,s,o,a,i){return(0,n.uX)(),(0,n.CE)("div",re,[ne,(0,n.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>i.handleFileChange&&i.handleFileChange(...e))},null,32),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.contents=e),placeholder:"contents"},null,512),[[r.Jo,a.contents]]),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.publishPost&&i.publishPost(...e)),disabled:!a.image},"Publish",8,oe)])}var ie={data(){return{image:null,contents:""}},methods:{handleFileChange(e){this.image=e.target.files[0],console.log(this.image)},async publishPost(){try{let e=new FormData;e.append("image",this.image),e.append("contents",this.contents),console.log(e);const t=await L.A.post("/write",e,{headers:{"Content-Type":"multipart/form-data"}});t.data.success?(console.log("Uploaded post"),this.$router.push("/")):(console.error("Failed to upload post"),this.$router.go(-1))}catch(e){console.error("Error publishing post:",e)}}}};const le=(0,i.A)(ie,[["render",ae],["__scopeId","data-v-49af6145"]]);var ue=le;const ce=[{path:"/",component:T,props:!0},{path:"/login",component:R},{path:"/register",component:te},{path:"/write",component:ue}],de=(0,c.aE)({history:(0,c.LA)(),routes:ce});var pe=de;(0,r.Ef)(u).use(pe).mount("#app")}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,r,n,o){if(!r){var a=1/0;for(c=0;c<e.length;c++){r=e[c][0],n=e[c][1],o=e[c][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(i=!1,o<a&&(a=o));if(i){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,a=r[0],i=r[1],l=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(l)var c=l(s)}for(t&&t(r);u<a.length;u++)o=a[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],(function(){return s(701)}));r=s.O(r)})();
//# sourceMappingURL=app.b618ba43.js.map